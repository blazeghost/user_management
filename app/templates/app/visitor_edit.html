{% extends 'app/base1.html' %}
{% load static %}
{% block content %}
<!-- Begin Page Content -->
<div class="container-fluid">

    <!-- Page Heading -->
    <div class="d-sm-flex align-items-center justify-content-between mb-4">
        <h1 class="h3 mb-0 text-gray-800">Edit Visitor Details</h1>

    </div>
    <hr>


    <div class="container-fluid">
        {% if keymsg %}

        <p style="color: green;">{{keymsg}}</p>

        {% endif %}

        {% if request.session.Role == 'Admin' %}
        {% if key1 %}
        <form action="{% url 'adminedit' pk=key1.id %}" method="post" enctype="multipart/form-data">
            {% csrf_token %}


            <div class=" box_general padding_bottom">

                <div class="row">

                    <div class="col-md-6">
                        <div class="form-group">
                            <label>Visitor Name</label>
                            <input type="text" class="form-control" name="v_name" value="{{key1.visitor_name}}">
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label>Visitor purpose</label>
                            <input type="text" class="form-control" name='v_purpose' value="{{key1.visitor_purpose}}">
                        </div>
                    </div>
                </div>
                <!-- /row-->
                <div class="row">

                    <div class="col-md-6">
                        <div class="form-group">
                            <label>Visitor Contact Details</label>
                            <input type="tel" class="form-control" name="v_contact" value="{{key1.visitor_contact}}">
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label>Concerned Person</label>
                            <input type="text" class="form-control" name="concerned_p"
                                value="{{key1.concerned_person}}">
                        </div>
                    </div>
                </div>
                <div class="row">

                    <div class="col-md-6">
                        <div class="form-group">
                            <label>Date Time</label>
                            <input type="datetime-local" class="form-control" name="date_time"
                                value="{{key1.date_time}}">
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">

                            <input type="hidden" class="form-control" name="role" value="{{request.session.Role}}">
                        </div>
                    </div>
                </div>
                <!-- /row-->

            </div>

            <!-- /box_general-->



            <p style="text-align: center;">
                <input class="btn btn-success" type="submit" value="Submit"> &nbsp; &nbsp;
                <input class="btn btn-warning" type="reset" value="Reset">
                <br> <br>
                <a class="btn_1 medium" href="{% url 'visitorlist' %}"><i class="fa fa-chevron-circle-left"
                        aria-hidden="true"></i> Back to Visitor List</a>
            </p>

        </form>
        {% endif %}

        {% elif request.session.Role == 'Security' %}
        {% if key2 %}
        <form action="{% url 'securityedit' pk=key2.id %}" method="post" enctype="multipart/form-data">
            {% csrf_token %}


            <div class=" box_general padding_bottom">

                <div class="row">

                    <div class="col-md-6">
                        <div class="form-group">
                            <label>Visitor Name</label>
                            <input type="text" class="form-control" name="v_name" value="{{key2.visitor_name}}">
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label>Visitor purpose</label>
                            <input type="text" class="form-control" name='v_purpose' value="{{key2.visitor_purpose}}">
                        </div>
                    </div>
                </div>
                <!-- /row-->
                <div class="row">

                    <div class="col-md-6">
                        <div class="form-group">
                            <label>Visitor Contact Details</label>
                            <input type="tel" class="form-control" name="v_contact" value="{{key2.visitor_contact}}">
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label>Visitor Address</label>
                            <input type="text" class="form-control" name="v_address" value="{{key2.visitor_address}}">
                        </div>
                    </div>
                </div>

                <div class="row">

                    <div class="col-md-6">
                        <div class="form-group">
                            <label>Visitor Vehicle number</label>
                            <input type="tel" class="form-control" name="v_vechicle"
                                value="{{key2.visitor_vehicle_number}}">
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label>Concerned Person</label>
                            <input type="text" class="form-control" name="concerned_p"
                                value="{{key2.concerned_person}}">
                        </div>
                    </div>
                </div>

                <div class="row">

                    <div class="col-md-6">
                        <div class="form-group">
                            <label>Date Time</label>
                            <input type="datetime-local" class="form-control" name="date_time"
                                value="{{key2.date_time}}">
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">

                            <input type="hidden" class="form-control" name="role" value="{{request.session.Role}}">
                        </div>
                    </div>
                </div>
                <!-- /row-->

            </div>

            <!-- /box_general-->



            <p style="text-align: center;">
                <input class="btn btn-success" type="submit" value="Submit"> &nbsp; &nbsp;
                <input class="btn btn-warning" type="reset" value="Reset">
                <br> <br>
                <a class="btn_1 medium" href="{% url 'visitorlist' %}"><i class="fa fa-chevron-circle-left"
                        aria-hidden="true"></i> Back to Visitor List</a>
            </p>

        </form>
        {% endif %}

        {% endif %}

    </div>

</div>
<!-- /.container-fluid -->

</div>
<!-- End of Main Content -->

{% endblock %}